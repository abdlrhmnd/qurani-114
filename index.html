<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ÙˆØ°ÙƒØ± ÙØ¥Ù† Ø§Ù„Ø°ÙƒØ±Ù‰ ØªÙ†ÙØ¹ Ø§Ù„Ù…Ø¤Ù…Ù†ÙŠÙ†</title>
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Reem+Kufi:wght@500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --dark-brown: #3e2723; --main-brown: #5d4037; --accent-gold: #c6a664;
            --bg-paper: #f4eee0; --text-color: #2b1d1a;
        }
        body { 
            font-family: 'Amiri', serif; background-color: var(--bg-paper);
            color: var(--text-color); margin: 0; padding: 10px;
            background-image: url('https://www.transparenttextures.com/patterns/natural-paper.png');
        }
        .container { 
            width: 100%; max-width: 750px; margin: 10px auto; 
            background: rgba(255, 255, 255, 0.95); padding: 20px; border-radius: 20px;
            box-shadow: 0 10px 30px rgba(62, 39, 35, 0.1); border: 1px solid var(--accent-gold);
            text-align: center; position: relative;
        }
        .header-top { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
        .search-container { position: relative; width: 130px; }
        .search-box {
            width: 100%; padding: 6px 25px 6px 8px; border-radius: 15px;
            border: 1px solid var(--accent-gold); font-family: 'Amiri', serif; font-size: 0.85em; outline: none;
        }
        .search-icon { position: absolute; right: 8px; top: 52%; transform: translateY(-50%); font-size: 0.7em; color: var(--accent-gold); }
        .bismillah-frame {
            font-family: 'Amiri', serif; border: 2px double var(--accent-gold); 
            display: inline-block; padding: 4px 25px; margin: 10px 0 20px; border-radius: 15px; 
            font-weight: bold; color: var(--dark-brown); font-size: 1.2em; background: #fffdf9;
        }
        .quran-quote { font-size: 1.5em; color: var(--main-brown); margin: 10px 0; font-weight: bold; }
        h1 { font-family: 'Reem Kufi', sans-serif; color: var(--dark-brown); font-size: 1.2em; margin: 0; }
        .achievement-box { background: var(--main-brown); color: white; padding: 12px; border-radius: 15px; margin-bottom: 15px; cursor: pointer; }
        .surah-card { border: 1px solid #dcd3bd; margin-bottom: 10px; border-radius: 15px; background: white; text-align: right; }
        .surah-header { padding: 12px; cursor: pointer; display: flex; justify-content: space-between; align-items: center;}
        .btn-group { padding: 0 12px 12px; display: flex; gap: 5px; }
        .read-btn { flex: 1; background: var(--accent-gold); color: white; border: none; padding: 8px; border-radius: 8px; font-family: 'Reem Kufi', sans-serif; font-size: 0.8em; cursor: pointer; }
        .quran-text-area { display: none; background: #fffcf5; padding: 20px; margin: 10px; border: 1px solid var(--accent-gold); font-size: 1.5em; line-height: 2.5; text-align: center; border-radius: 12px; }
        .tasks-list { display: none; padding: 10px; border-top: 1px solid #eee; }
        .task-item { display: flex; align-items: center; gap: 10px; padding: 8px; border-bottom: 1px solid #f1ede4; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header-top">
            <h1>Ù…ÙØ³Ø§Ø¹Ø¯ Ø®ÙØªÙ… Ø§Ù„Ù‚ÙØ±Ø¢Ù†</h1>
            <div class="search-container">
                <span class="search-icon">ğŸ”</span>
                <input type="text" id="surahSearch" class="search-box" placeholder="Ø¨Ø­Ø«.." onkeyup="render()">
            </div>
        </div>
        <div class="quran-quote">ï´¿ ÙˆÙÙ„ÙÙ‚ÙØ¯Ù’ ÙŠÙØ³Ù‘ÙØ±Ù’Ù†ÙØ§ Ø§Ù„Ù’Ù‚ÙØ±Ù’Ø¢Ù†Ù Ù„ÙÙ„Ø°Ù‘ÙÙƒÙ’Ø±Ù ï´¾</div>
        <div class="achievement-box" onclick="toggleFilter()">
            <h3 id="stat-title" style="margin:0; font-size: 1em;">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„..</h3>
        </div>
        <div id="quran-list"></div>
    </div>

    <script>
        const surahs = [{n:"Ø§Ù„ÙØ§ØªØ­Ø©", a:7}, {n:"Ø§Ù„Ø¨Ù‚Ø±Ø©", a:286}, {n:"Ø¢Ù„ Ø¹Ù…Ø±Ø§Ù†", a:200}, {n:"Ø§Ù„Ù†Ø³Ø§Ø¡", a:176}, {n:"Ø§Ù„Ù…Ø§Ø¦Ø¯Ø©", a:120}, {n:"Ø§Ù„Ø£Ù†Ø¹Ø§Ù…", a:165}, {n:"Ø§Ù„Ø£Ø¹Ø±Ø§Ù", a:206}, {n:"Ø§Ù„Ø£Ù†ÙØ§Ù„", a:75}, {n:"Ø§Ù„ØªÙˆØ¨Ø©", a:129}, {n:"ÙŠÙˆÙ†Ø³", a:109}, {n:"Ù‡ÙˆØ¯", a:123}, {n:"ÙŠÙˆØ³Ù", a:111}, {n:"Ø§Ù„Ø±Ø¹Ø¯", a:43}, {n:"Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ…", a:52}, {n:"Ø§Ù„Ø­Ø¬Ø±", a:99}, {n:"Ø§Ù„Ù†Ø­Ù„", a:128}, {n:"Ø§Ù„Ø¥Ø³Ø±Ø§Ø¡", a:111}, {n:"Ø§Ù„ÙƒÙ‡Ù", a:110}, {n:"Ù…Ø±ÙŠÙ…", a:98}, {n:"Ø·Ù‡", a:135}, {n:"Ø§Ù„Ø£Ù†Ø¨ÙŠØ§Ø¡", a:112}, {n:"Ø§Ù„Ø­Ø¬", a:78}, {n:"Ø§Ù„Ù…Ø¤Ù…Ù†ÙˆÙ†", a:118}, {n:"Ø§Ù„Ù†ÙˆØ±", a:64}, {n:"Ø§Ù„ÙØ±Ù‚Ø§Ù†", a:77}, {n:"Ø§Ù„Ø´Ø¹Ø±Ø§Ø¡", a:227}, {n:"Ø§Ù„Ù†Ù…Ù„", a:93}, {n:"Ø§Ù„Ù‚ØµØµ", a:88}, {n:"Ø§Ù„Ø¹Ù†ÙƒØ¨ÙˆØª", a:69}, {n:"Ø§Ù„Ø±ÙˆÙ…", a:60}, {n:"Ù„Ù‚Ù…Ø§Ù†", a:34}, {n:"Ø§Ù„Ø³Ø¬Ø¯Ø©", a:30}, {n:"Ø§Ù„Ø£Ø­Ø²Ø§Ø¨", a:73}, {n:"Ø³Ø¨Ø£", a:54}, {n:"ÙØ§Ø·Ø±", a:45}, {n:"ÙŠØ³", a:83}, {n:"Ø§Ù„ØµØ§ÙØ§Øª", a:182}, {n:"Øµ", a:88}, {n:"Ø§Ù„Ø²Ù…Ø±", a:75}, {n:"ØºØ§ÙØ±", a:85}, {n:"ÙØµÙ„Øª", a:54}, {n:"Ø§Ù„Ø´ÙˆØ±Ù‰", a:53}, {n:"Ø§Ù„Ø²Ø®Ø±Ù", a:89}, {n:"Ø§Ù„Ø¯Ø®Ø§Ù†", a:59}, {n:"Ø§Ù„Ø¬Ø§Ø«ÙŠØ©", a:37}, {n:"Ø§Ù„Ø£Ø­Ù‚Ø§Ù", a:35}, {n:"Ù…Ø­Ù…Ø¯", a:38}, {n:"Ø§Ù„ÙØªØ­", a:29}, {n:"Ø§Ù„Ø­Ø¬Ø±Ø§Øª", a:18}, {n:"Ù‚", a:45}, {n:"Ø§Ù„Ø°Ø§Ø±ÙŠØ§Øª", a:60}, {n:"Ø§Ù„Ø·ÙˆØ±", a:49}, {n:"Ø§Ù„Ù†Ø¬Ù…", a:62}, {n:"Ø§Ù„Ù‚Ù…Ø±", a:55}, {n:"Ø§Ù„Ø±Ø­Ù…Ù†", a:78}, {n:"Ø§Ù„ÙˆØ§Ù‚Ø¹Ø©", a:96}, {n:"Ø§Ù„Ø­Ø¯ÙŠØ¯", a:29}, {n:"Ø§Ù„Ù…Ø¬Ø§Ø¯Ù„Ø©", a:22}, {n:"Ø§Ù„Ø­Ø´Ø±", a:24}, {n:"Ø§Ù„Ù…Ù…ØªØ­Ù†Ø©", a:13}, {n:"Ø§Ù„ØµÙ", a:14}, {n:"Ø§Ù„Ø¬Ù…Ø¹Ø©", a:11}, {n:"Ø§Ù„Ù…Ù†Ø§ÙÙ‚ÙˆÙ†", a:11}, {n:"Ø§Ù„ØªØºØ§Ø¨Ù†", a:18}, {n:"Ø§Ù„Ø·Ù„Ø§Ù‚", a:12}, {n:"Ø§Ù„ØªØ­Ø±ÙŠÙ…", a:12}, {n:"Ø§Ù„Ù…Ù„Ùƒ", a:30}, {n:"Ø§Ù„Ù‚Ù„Ù…", a:52}, {n:"Ø§Ù„Ø­Ø§Ù‚Ø©", a:52}, {n:"Ø§Ù„Ù…Ø¹Ø§Ø±Ø¬", a:44}, {n:"Ù†ÙˆØ­", a:28}, {n:"Ø§Ù„Ø¬Ù†", a:28}, {n:"Ø§Ù„Ù…Ø²Ù…Ù„", a:20}, {n:"Ø§Ù„Ù…Ø¯Ø«Ø±", a:56}, {n:"Ø§Ù„Ù‚ÙŠØ§Ù…Ø©", a:40}, {n:"Ø§Ù„Ø¥Ù†Ø³Ø§Ù†", a:31}, {n:"Ø§Ù„Ù…Ø±Ø³Ù„Ø§Øª", a:50}, {n:"Ø§Ù„Ù†Ø¨Ø£", a:40}, {n:"Ø§Ù„Ù†Ø§Ø²Ø¹Ø§Øª", a:46}, {n:"Ø¹Ø¨Ø³", a:42}, {n:"Ø§Ù„ØªÙƒÙˆÙŠØ±", a:29}, {n:"Ø§Ù„Ø§Ù†ÙØ·Ø§Ø±", a:19}, {n:"Ø§Ù„Ù…Ø·ÙÙÙŠÙ†", a:36}, {n:"Ø§Ù„Ø§Ù†Ø´Ù‚Ø§Ù‚", a:25}, {n:"Ø§Ù„Ø¨Ø±ÙˆØ¬", a:22}, {n:"Ø§Ù„Ø·Ø§Ø±Ù‚", a:17}, {n:"Ø§Ù„Ø£Ø¹Ù„Ù‰", a:19}, {n:"Ø§Ù„ØºØ§Ø´ÙŠØ©", a:26}, {n:"Ø§Ù„ÙØ¬Ø±", a:30}, {n:"Ø§Ù„Ø¨Ù„Ø¯", a:20}, {n:"Ø§Ù„Ø´Ù…Ø³", a:15}, {n:"Ø§Ù„Ù„ÙŠÙ„", a:21}, {n:"Ø§Ù„Ø¶Ø­Ù‰", a:11}, {n:"Ø§Ù„Ø´Ø±Ø­", a:8}, {n:"Ø§Ù„ØªÙŠÙ†", a:8}, {n:"Ø§Ù„Ø¹Ù„Ù‚", a:19}, {n:"Ø§Ù„Ù‚Ø¯Ø±", a:5}, {n:"Ø§Ù„Ø¨ÙŠÙ†Ø©", a:8}, {n:"Ø§Ù„Ø²Ù„Ø²Ù„Ø©", a:8}, {n:"Ø§Ù„Ø¹Ø§Ø¯ÙŠØ§Øª", a:11}, {n:"Ø§Ù„Ù‚Ø§Ø±Ø¹Ø©", a:11}, {n:"Ø§Ù„ØªÙƒØ§Ø«Ø±", a:8}, {n:"Ø§Ù„Ø¹ØµØ±", a:3}, {n:"Ø§Ù„Ù‡Ù…Ø²Ø©", a:9}, {n:"Ø§Ù„ÙÙŠÙ„", a:5}, {n:"Ù‚Ø±ÙŠØ´", a:4}, {n:"Ø§Ù„Ù…Ø§Ø¹ÙˆÙ†", a:7}, {n:"Ø§Ù„ÙƒÙˆØ«Ø±", a:3}, {n:"Ø§Ù„ÙƒØ§ÙØ±ÙˆÙ†", a:6}, {n:"Ø§Ù„Ù†ØµØ±", a:3}, {n:"Ø§Ù„Ù…Ø³Ø¯", a:5}, {n:"Ø§Ù„Ø¥Ø®Ù„Ø§Øµ", a:4}, {n:"Ø§Ù„ÙÙ„Ù‚", a:5}, {n:"Ø§Ù„Ù†Ø§Ø³", a:6}];
        let showOnlyCompleted = false;

        function render() {
            const list = document.getElementById('quran-list');
            const search = document.getElementById('surahSearch').value.trim();
            list.innerHTML = '';
            let done = 0;
            surahs.forEach((s, i) => {
                let sId = i + 1;
                if (search !== "" && !s.n.includes(search)) return;
                let sDone = 0, sTotal = 0, itemsHTML = '';
                for (let j = 1; j <= s.a; j += 10) {
                    sTotal++;
                    let end = Math.min(j + 9, s.a), tId = `s${sId}-a${j}-${end}`, checked = localStorage.getItem(tId) === 'true';
                    if(checked) { done++; sDone++; }
                    if (!showOnlyCompleted || checked) itemsHTML += `<div class="task-item"><input type="checkbox" id="${tId}" ${checked ? 'checked' : ''} onchange="save('${tId}', this.checked)"><label for="${tId}">Ø§Ù„Ø¢ÙŠØ§Øª ${j} - ${end}</label></div>`;
                }
                if (itemsHTML) list.innerHTML += `<div class="surah-card"><div class="surah-header" onclick="toggle(${sId})"><span>${sId}. ${s.n}</span><span style="color:var(--accent-gold)">${sDone}/${sTotal}</span></div><div class="btn-group"><button class="read-btn" onclick="showText(${sId})">Ù‚Ø±Ø§Ø¡Ø© ğŸ“–</button><button class="read-btn" style="background:#8d6e63" onclick="toggle(${sId})">Ø§Ù„Ù…Ù‡Ø§Ù… âœ…</button></div><div id="quran-text-${sId}" class="quran-text-area"></div><div class="tasks-list" id="surah-${sId}">${itemsHTML}</div></div>`;
            });
            document.getElementById('stat-title').innerText = `Ø£Ù†Ø¬Ø²Øª ${done} Ù…Ù‚Ø·Ø¹Ø§Ù‹ Ù…Ù† Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…`;
        }

        async function showText(id) {
            const el = document.getElementById(`quran-text-${id}`);
            if(el.style.display === 'block') { el.style.display = 'none'; return; }
            el.style.display = 'block'; el.innerHTML = "Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...";
            try {
                const res = await fetch(`https://api.alquran.cloud/v1/surah/${id}`);
                const data = await res.json();
                let ayahs = data.data.ayahs;
                
                let header = "";
                // Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¬ÙˆÙ‡Ø±ÙŠ Ù‡Ù†Ø§:
                if (id !== 1 && id !== 9) {
                    header = `<div class="bismillah-frame">Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù Ø§Ù„Ø±Ù‘ÙØ­Ù’Ù…ÙÙ°Ù†Ù Ø§Ù„Ø±Ù‘ÙØ­ÙÙŠÙ…Ù</div><br>`;
                    // Ù†Ø­Ø°Ù Ø§Ù„Ø¨Ø³Ù…Ù„Ø© Ø§Ù„Ù…Ø¯Ù…Ø¬Ø© ÙÙ‚Ø· ÙÙŠ Ø§Ù„Ø³ÙˆØ± ØºÙŠØ± Ø§Ù„ÙØ§ØªØ­Ø© ÙˆØºÙŠØ± Ø§Ù„ØªÙˆØ¨Ø©
                    ayahs[0].text = ayahs[0].text.replace(/^Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù Ø§Ù„Ø±Ù‘ÙØ­Ù’Ù…ÙÙ°Ù†Ù Ø§Ù„Ø±Ù‘ÙØ­ÙÙŠÙ…Ù\s*/, "").trim();
                } else if (id === 1) {
                    // Ø³ÙˆØ±Ø© Ø§Ù„ÙØ§ØªØ­Ø© ØªØªØ±Ùƒ ÙƒÙ…Ø§ Ù‡ÙŠ ØªÙ…Ø§Ù…Ø§Ù‹ Ø¯ÙˆÙ† Ø¨Ø±ÙˆØ§Ø² Ù„Ø£Ù† Ø§Ù„Ø¨Ø³Ù…Ù„Ø© Ø¢ÙŠØ© Ø±Ù‚Ù… 1 ÙÙŠÙ‡Ø§
                    header = "";
                }

                let content = ayahs.map(a => `${a.text} <span style="color:var(--accent-gold); font-size: 0.7em;">ï´¿${a.numberInSurah}ï´¾</span>`).join(' ');
                el.innerHTML = header + content;
            } catch { el.innerHTML = "Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„."; }
        }

        function toggle(id) {
            const el = document.getElementById(`surah-${id}`);
            const isVisible = el.style.display === 'block';
            document.querySelectorAll('.tasks-list').forEach(l => l.style.display = 'none');
            el.style.display = isVisible ? 'none' : 'block';
        }
        function save(id, val) { localStorage.setItem(id, val); render(); }
        function toggleFilter() { showOnlyCompleted = !showOnlyCompleted; render(); }
        render();
    </script>
</body>
</html>
